#!/usr/bin/env sh

# Do not modify this file - this file is created by bin/wrapper/dist-sync and will be overriden every time dist-sync is invoked.
# see https://gitlab.brainbits.net/docker/dist/-/blob/master/README.md

. "$(dirname $0)/../config"

printf "${run}>>> executing shell in image ${run_name}%s${run} on ${run_name}%s${reset}\n" "${APP_IMAGE}" "${NAME}"

if [ $# -gt 0 ]; then
    docker run $(interactiveTty) --rm \
        --env VERBOSE=1 \
        --env COMPOSER_INSTALL_DEV=1 \
        --env PHP_OPCACHE_VALIDATE_TIMESTAMPS=1 \
        --env-file "${DOT_ENV}" \
        "${APP_IMAGE}" \
        bash -l -c "$*"
else
    docker run $(interactiveTty) --rm \
        --env VERBOSE=1 \
        --env COMPOSER_INSTALL_DEV=1 \
        --env PHP_OPCACHE_VALIDATE_TIMESTAMPS=1 \
        --env-file "${DOT_ENV}" \
        "${APP_IMAGE}" \
        bash -l
fi
